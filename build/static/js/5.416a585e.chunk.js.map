{"version":3,"sources":["actions/index.js","components/MapStateToProps.js","components/PageContent.js","../node_modules/@material-ui/icons/AccountCircle.js","components/PeoplePage.js"],"names":["indices","asyncfuncs","segment","map","index","callback","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","then","response","ok","console","error","statusText","json","handleErrors","data","fetchPeople","dispatch","parallel","err","results","type","payload","fetchPlanets","fetchMovies","MapStateToProps","people","planets","movies","InfoModal","React","lazy","useStyles","makeStyles","theme","root","width","marginTop","padding","backgroundColor","palette","background","paper","margin","marginRight","PageContent","props","classes","useState","modalOpen","setModalOpen","modalData","setModalData","Avatar","avatar","toggleModalOpen","renderList","itemTitles","title","key","onClick","button","divider","className","primary","closeModal","component","aria-label","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","connect","actions","useEffect","person","name","height","mass","hair_color","skin_color","gender","birth_year","AccountCircleIcon"],"mappings":"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","file":"static/js/5.416a585e.chunk.js","sourcesContent":["import parallel from 'async/parallel'\r\n\r\nconst handleErrors = response => {\r\n  if (!response.ok) {\r\n    console.error(response.statusText)\r\n  }\r\n  return response.json()\r\n}\r\n\r\n// the following is in place to return a manageable batch size for each route\r\n// 'load more' functionality is outside the scope, so only a single batch is fetched\r\n// this is why graphql takes the trophy...\r\nconst indices = ['1', '2', '3', '4', '5', '6', '7']\r\n\r\nconst asyncfuncs = segment => indices.map(index => callback => {\r\n  fetch(`https://swapi.co/api/${segment}/${index}/`, {\r\n    method: 'GET',\r\n    mode: 'cors',\r\n    cache: 'default',\r\n    credentials: 'omit',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'error',\r\n    referrerPolicy: 'no-referrer'\r\n  }).then(response => handleErrors(response)).then((data, error) => {\r\n    if (error) { console.error(error) } else { callback(null, data) }\r\n  })\r\n})\r\n\r\nexport const fetchPeople = () => dispatch => {\r\n  parallel(asyncfuncs('people'), (err, results) => {\r\n    if (err) { console.error(err) }\r\n    dispatch({ type: 'fetch_people', payload: results })\r\n  })\r\n}\r\n\r\nexport const fetchPlanets = () => dispatch => {\r\n  parallel(asyncfuncs('planets'), (err, results) => {\r\n    if (err) { console.error(err) }\r\n    dispatch({ type: 'fetch_planets', payload: results })\r\n  })\r\n}\r\n\r\nexport const fetchMovies = () => dispatch => {\r\n  parallel(asyncfuncs('films'), (err, results) => {\r\n    if (err) { console.error(err) }\r\n    dispatch({ type: 'fetch_movies', payload: results })\r\n  })\r\n}\r\n","const MapStateToProps = ({ people, planets, movies }) => {\r\n  return { people, planets, movies }\r\n}\r\n\r\nexport default MapStateToProps\r\n","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nconst InfoModal = React.lazy(() => import('./InfoModal'))\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: '64px',\r\n    padding: '0',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  margin: {\r\n    marginRight: '15px'\r\n  }\r\n}))\r\n\r\nconst PageContent = props => {\r\n  const classes = useStyles()\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const [modalData, setModalData] = useState(null)\r\n  const Avatar = props.avatar\r\n  const toggleModalOpen = () => { setModalOpen(!modalOpen) }\r\n  const renderModal = data => {\r\n    toggleModalOpen()\r\n    setModalData(data)\r\n  }\r\n  const renderList = props.itemTitles.map((title, index) => {\r\n    return (\r\n      <div key={title} onClick={() => renderModal(props.modalData[index])}>\r\n        <ListItem button divider>\r\n          <Avatar className={classes.margin} />\r\n          <ListItemText primary={title} />\r\n        </ListItem>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {\r\n        modalOpen && (\r\n          <InfoModal modalData={modalData} closeModal={toggleModalOpen} />\r\n        )\r\n      }\r\n      <List\r\n        component='nav'\r\n        className={classes.root}\r\n        aria-label='mailbox folders'\r\n      >\r\n        {renderList}\r\n      </List>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PageContent\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\"\n}), 'AccountCircle');\n\nexports.default = _default;","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport MapStateToProps from './MapStateToProps'\r\nimport PageContent from './PageContent'\r\nimport LoadingSpinner from './LoadingSpinner'\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle'\r\n\r\nconst PeoplePage = props => {\r\n  useEffect(() => {\r\n    if (!props.people) {\r\n      props.fetchPeople()\r\n    }\r\n  }, [props])\r\n\r\n  const modalData = props.people\r\n    ? props.people.map(person => {\r\n      return ([\r\n        {\r\n          title: 'Name',\r\n          value: person.name\r\n        },\r\n        {\r\n          title: 'Height',\r\n          value: person.height\r\n        },\r\n        {\r\n          title: 'Mass',\r\n          value: person.mass\r\n        },\r\n        {\r\n          title: 'Hair Color',\r\n          value: person.hair_color\r\n        },\r\n        {\r\n          title: 'Skin Color',\r\n          value: person.skin_color\r\n        },\r\n        {\r\n          title: 'Gender',\r\n          value: person.gender\r\n        },\r\n        {\r\n          title: 'Birth Year',\r\n          value: person.birth_year\r\n        }\r\n      ])\r\n    })\r\n    : null\r\n\r\n  const itemTitles = props.people\r\n    ? props.people.map(person => {\r\n      return person.name\r\n    })\r\n    : null\r\n\r\n  const page = props.people\r\n    ? <PageContent\r\n      modalData={modalData}\r\n      itemTitles={itemTitles}\r\n      avatar={AccountCircleIcon}\r\n    />\r\n    : <LoadingSpinner />\r\n\r\n  return page\r\n}\r\n\r\nexport default connect(MapStateToProps, actions)(PeoplePage)\r\n"],"sourceRoot":""}