{"version":3,"sources":["actions/index.js","components/MapStateToProps.js","components/PageContent.js","../node_modules/@material-ui/icons/Public.js","components/PlanetsPage.js"],"names":["indices","asyncfuncs","segment","map","index","callback","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","then","response","ok","console","error","statusText","json","handleErrors","data","fetchPeople","dispatch","parallel","err","results","type","payload","fetchPlanets","fetchMovies","MapStateToProps","people","planets","movies","InfoModal","React","lazy","useStyles","makeStyles","theme","root","width","marginTop","padding","backgroundColor","palette","background","paper","margin","marginRight","PageContent","props","classes","useState","modalOpen","setModalOpen","modalData","setModalData","Avatar","avatar","toggleModalOpen","renderList","itemTitles","title","key","onClick","button","divider","className","primary","closeModal","component","aria-label","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","connect","actions","useEffect","planet","name","terrain","population","PublicIcon"],"mappings":"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","file":"static/js/6.d33b31ad.chunk.js","sourcesContent":["import parallel from 'async/parallel'\r\n\r\nconst handleErrors = response => {\r\n  if (!response.ok) {\r\n    console.error(response.statusText)\r\n  }\r\n  return response.json()\r\n}\r\n\r\n// the following is in place to return a manageable batch size for each route\r\n// 'load more' functionality is outside the scope, so only a single batch is fetched\r\n// this is why graphql takes the trophy...\r\nconst indices = ['1', '2', '3', '4', '5', '6', '7']\r\n\r\nconst asyncfuncs = segment => indices.map(index => callback => {\r\n  fetch(`https://swapi.co/api/${segment}/${index}/`, {\r\n    method: 'GET',\r\n    mode: 'cors',\r\n    cache: 'default',\r\n    credentials: 'omit',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'error',\r\n    referrerPolicy: 'no-referrer'\r\n  }).then(response => handleErrors(response)).then((data, error) => {\r\n    if (error) { console.error(error) } else { callback(null, data) }\r\n  })\r\n})\r\n\r\nexport const fetchPeople = () => dispatch => {\r\n  parallel(asyncfuncs('people'), (err, results) => {\r\n    if (err) { console.error(err) }\r\n    dispatch({ type: 'fetch_people', payload: results })\r\n  })\r\n}\r\n\r\nexport const fetchPlanets = () => dispatch => {\r\n  parallel(asyncfuncs('planets'), (err, results) => {\r\n    if (err) { console.error(err) }\r\n    dispatch({ type: 'fetch_planets', payload: results })\r\n  })\r\n}\r\n\r\nexport const fetchMovies = () => dispatch => {\r\n  parallel(asyncfuncs('films'), (err, results) => {\r\n    if (err) { console.error(err) }\r\n    dispatch({ type: 'fetch_movies', payload: results })\r\n  })\r\n}\r\n","const MapStateToProps = ({ people, planets, movies }) => {\r\n  return { people, planets, movies }\r\n}\r\n\r\nexport default MapStateToProps\r\n","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nconst InfoModal = React.lazy(() => import('./InfoModal'))\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: '64px',\r\n    padding: '0',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  margin: {\r\n    marginRight: '15px'\r\n  }\r\n}))\r\n\r\nconst PageContent = props => {\r\n  const classes = useStyles()\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const [modalData, setModalData] = useState(null)\r\n  const Avatar = props.avatar\r\n  const toggleModalOpen = () => { setModalOpen(!modalOpen) }\r\n  const renderModal = data => {\r\n    toggleModalOpen()\r\n    setModalData(data)\r\n  }\r\n  const renderList = props.itemTitles.map((title, index) => {\r\n    return (\r\n      <div key={title} onClick={() => renderModal(props.modalData[index])}>\r\n        <ListItem button divider>\r\n          <Avatar className={classes.margin} />\r\n          <ListItemText primary={title} />\r\n        </ListItem>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {\r\n        modalOpen && (\r\n          <InfoModal modalData={modalData} closeModal={toggleModalOpen} />\r\n        )\r\n      }\r\n      <List\r\n        component='nav'\r\n        className={classes.root}\r\n        aria-label='mailbox folders'\r\n      >\r\n        {renderList}\r\n      </List>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PageContent\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"\n}), 'Public');\n\nexports.default = _default;","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport MapStateToProps from './MapStateToProps'\r\nimport PageContent from './PageContent'\r\nimport LoadingSpinner from './LoadingSpinner'\r\nimport PublicIcon from '@material-ui/icons/Public'\r\n\r\nconst PlanetsPage = props => {\r\n  useEffect(() => {\r\n    if (!props.planets) {\r\n      props.fetchPlanets()\r\n    }\r\n  }, [props])\r\n\r\n  const modalData = props.planets\r\n    ? props.planets.map(planet => {\r\n      return ([\r\n        {\r\n          title: 'Planet',\r\n          value: planet.name\r\n        },\r\n        {\r\n          title: 'Terrain',\r\n          value: planet.terrain\r\n        },\r\n        {\r\n          title: 'Population',\r\n          value: planet.population\r\n        }\r\n      ])\r\n    })\r\n    : null\r\n\r\n  const itemTitles = props.planets\r\n    ? props.planets.map(planet => {\r\n      return planet.name\r\n    })\r\n    : null\r\n\r\n  const page = props.planets\r\n    ? <PageContent\r\n      modalData={modalData}\r\n      itemTitles={itemTitles}\r\n      avatar={PublicIcon}\r\n      />\r\n    : <LoadingSpinner />\r\n\r\n  return page\r\n}\r\n\r\nexport default connect(MapStateToProps, actions)(PlanetsPage)\r\n"],"sourceRoot":""}